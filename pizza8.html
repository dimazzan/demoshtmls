<!DOCTYPE html>
<html lang="ru" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHAR & DOUGH | Пицца на дровах</title>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;600&family=Manrope:wght@300;400;600&display=swap');

        :root {
            --accent: #ff4500;
        }

        body {
            font-family: 'Manrope', sans-serif;
            background-color: #0a0a0a;
            color: #e5e5e5;
        }

        h1, h2, h3, .brand-font {
            font-family: 'Oswald', sans-serif;
            text-transform: uppercase;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1a1a1a;
        }
        ::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #ff4500;
        }

        /* Hide number input arrows */
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { 
            -webkit-appearance: none; 
            margin: 0; 
        }

        .glass-panel {
            background: rgba(20, 20, 20, 0.95);
            backdrop-filter: blur(10px);
        }

        .loader {
            border-top-color: #ff4500;
            -webkit-animation: spinner 1.5s linear infinite;
            animation: spinner 1.5s linear infinite;
        }

        @keyframes spinner {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Product Card Hover Effect */
        .product-card:hover .product-img {
            transform: scale(1.05);
        }
        
        .cart-overlay {
            transition: opacity 0.3s ease-in-out, visibility 0.3s;
        }
        
        .cart-sidebar {
            transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }
    </style>
</head>
<body class="antialiased selection:bg-orange-600 selection:text-white">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 top-0 transition-all duration-300 glass-panel border-b border-white/5 py-4">
        <div class="container mx-auto px-6 flex justify-between items-center">
            <a href="#" class="brand-font text-2xl md:text-3xl font-bold tracking-widest text-white">
                CHAR <span class="text-orange-600">&</span> DOUGH
            </a>
            <div class="flex items-center gap-6">
                <a href="#menu" class="hidden md:block text-sm uppercase tracking-widest hover:text-orange-500 transition-colors">Меню</a>
                <a href="#about" class="hidden md:block text-sm uppercase tracking-widest hover:text-orange-500 transition-colors">О нас</a>
                <button onclick="toggleCart()" class="relative group cursor-pointer">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="group-hover:stroke-orange-500 transition-colors"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
                    <span id="cart-badge" class="absolute -top-2 -right-2 bg-orange-600 text-white text-[10px] font-bold h-5 w-5 flex items-center justify-center rounded-full opacity-0 transition-opacity duration-300">0</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="relative h-screen flex items-center justify-center overflow-hidden">
        <!-- Dark Overlay Gradient -->
        <div class="absolute inset-0 bg-gradient-to-b from-black/60 via-black/40 to-[#0a0a0a] z-10"></div>
        
        <!-- Background Image -->
        <img src="https://images.unsplash.com/photo-1513104890138-7c749659a591?q=80&w=2670&auto=format&fit=crop" 
             alt="Pizza Oven" 
             class="absolute inset-0 w-full h-full object-cover z-0">

        <div class="relative z-20 text-center px-4 max-w-4xl mx-auto mt-16">
            <p class="text-orange-500 tracking-[0.3em] uppercase text-sm md:text-base mb-4 font-semibold animate-pulse">Огонь. Мука. Страсть.</p>
            <h1 class="text-5xl md:text-7xl lg:text-8xl font-bold text-white mb-6 leading-tight drop-shadow-2xl">
                ИСКУССТВО<br><span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-500 to-red-600">ЖИВОГО ОГНЯ</span>
            </h1>
            <p class="text-gray-300 text-lg md:text-xl max-w-2xl mx-auto mb-10 font-light">
                Неаполитанская классика с брутальным характером. 
                Тесто 48-часовой ферментации, выпекается при 400°C.
            </p>
            <a href="#menu" class="inline-block bg-orange-600 text-white px-10 py-4 text-sm md:text-base font-bold uppercase tracking-widest hover:bg-orange-700 transition-all transform hover:scale-105 shadow-lg shadow-orange-900/50">
                Выбрать Пиццу
            </a>
        </div>
    </header>

    <!-- Menu Section -->
    <section id="menu" class="py-24 bg-[#0a0a0a] relative">
        <div class="container mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-end mb-16 border-b border-white/10 pb-6">
                <div>
                    <h2 class="text-4xl md:text-5xl font-bold text-white mb-2">МЕНЮ</h2>
                    <p class="text-gray-400">Только лучшие ингредиенты. Никаких компромиссов.</p>
                </div>
                <div class="mt-4 md:mt-0 flex gap-4 overflow-x-auto pb-2 md:pb-0 hide-scrollbar">
                    <button class="px-6 py-2 border border-orange-600 bg-orange-600 text-white text-sm font-bold uppercase tracking-wider">Все</button>
                    <button class="px-6 py-2 border border-white/20 hover:border-white text-gray-400 hover:text-white text-sm font-bold uppercase tracking-wider transition-all">Острые</button>
                    <button class="px-6 py-2 border border-white/20 hover:border-white text-gray-400 hover:text-white text-sm font-bold uppercase tracking-wider transition-all">Веган</button>
                </div>
            </div>

            <div id="products-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12">
                <!-- Products will be injected via JS -->
            </div>
        </div>
    </section>

    <!-- Features / Psychology Section -->
    <section id="about" class="py-24 bg-[#111] border-t border-white/5">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                <div class="relative">
                    <div class="absolute -inset-4 bg-orange-600/20 blur-2xl rounded-full"></div>
                    <img src="https://images.unsplash.com/photo-1574126154517-d1e0d89e7344?q=80&w=1000&auto=format&fit=crop" alt="Dough making" class="relative z-10 w-full h-[500px] object-cover grayscale hover:grayscale-0 transition-all duration-700 shadow-2xl">
                </div>
                <div>
                    <h3 class="text-orange-500 tracking-widest text-sm font-bold mb-4 uppercase">Философия вкуса</h3>
                    <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">МЫ НЕ ГОТОВИМ ЕДУ. <br>МЫ СОЗДАЕМ ЭМОЦИИ.</h2>
                    <p class="text-gray-400 text-lg mb-6 leading-relaxed">
                        Хруст корочки. Тягучая моцарелла. Аромат дымка.
                        Это не просто пицца — это результат одержимости качеством. Мы используем итальянскую муку Caputo, томаты San Marzano и фермерские сыры.
                    </p>
                    <ul class="space-y-4 text-gray-300">
                        <li class="flex items-center gap-4">
                            <span class="w-2 h-2 bg-orange-600 rounded-full"></span>
                            Дровяная печь ручной работы
                        </li>
                        <li class="flex items-center gap-4">
                            <span class="w-2 h-2 bg-orange-600 rounded-full"></span>
                            48 часов ферментации теста
                        </li>
                        <li class="flex items-center gap-4">
                            <span class="w-2 h-2 bg-orange-600 rounded-full"></span>
                            Авторские рецепты соусов
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black py-12 border-t border-white/10 text-center md:text-left">
        <div class="container mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-8">
            <div>
                <a href="#" class="brand-font text-3xl font-bold tracking-widest text-white">
                    CHAR <span class="text-orange-600">&</span> DOUGH
                </a>
                <p class="text-gray-500 text-sm mt-2">© 2023 Brutal Pizza Inc.</p>
            </div>
            <div class="flex gap-8">
                <a href="#" class="text-gray-400 hover:text-white transition-colors uppercase text-sm tracking-wider">Instagram</a>
                <a href="#" class="text-gray-400 hover:text-white transition-colors uppercase text-sm tracking-wider">Telegram</a>
            </div>
            <div class="text-right">
                <p class="text-white font-bold text-lg">+7 (999) 000-00-00</p>
                <p class="text-gray-500 text-sm">Ежедневно 12:00 - 23:00</p>
            </div>
        </div>
    </footer>

    <!-- Cart Overlay & Sidebar -->
    <div id="cart-overlay" class="fixed inset-0 z-[60] bg-black/80 backdrop-blur-sm opacity-0 invisible cart-overlay" onclick="toggleCart()"></div>
    
    <div id="cart-sidebar" class="fixed top-0 right-0 z-[70] h-full w-full md:w-[450px] bg-[#141414] border-l border-white/10 transform translate-x-full cart-sidebar flex flex-col shadow-2xl">
        
        <!-- Cart Header -->
        <div class="p-6 border-b border-white/5 flex justify-between items-center bg-[#141414]">
            <h2 class="text-2xl font-bold uppercase tracking-wider text-white">Ваш Заказ</h2>
            <button onclick="toggleCart()" class="text-gray-400 hover:text-white p-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>
        </div>

        <!-- Cart Items Area -->
        <div id="cart-items" class="flex-1 overflow-y-auto p-6 space-y-6">
            <!-- Empty State -->
            <div id="empty-cart-msg" class="h-full flex flex-col items-center justify-center text-center opacity-60">
                <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="text-gray-600 mb-4"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
                <p class="text-xl font-bold text-gray-400">Корзина пуста</p>
                <p class="text-sm text-gray-600 mt-2">Добавьте что-нибудь вкусное из меню</p>
            </div>
            <!-- Items will be injected here -->
        </div>

        <!-- Checkout Form & Footer -->
        <div id="cart-footer" class="p-6 bg-[#1a1a1a] border-t border-white/10 hidden">
            
            <!-- Order Form -->
            <div class="mb-6 space-y-3">
                <input type="text" placeholder="Ваше Имя" class="w-full bg-[#0a0a0a] border border-white/10 p-3 text-white focus:outline-none focus:border-orange-600 transition-colors text-sm rounded-sm">
                <input type="tel" placeholder="Телефон" class="w-full bg-[#0a0a0a] border border-white/10 p-3 text-white focus:outline-none focus:border-orange-600 transition-colors text-sm rounded-sm">
                <input type="text" placeholder="Адрес доставки" class="w-full bg-[#0a0a0a] border border-white/10 p-3 text-white focus:outline-none focus:border-orange-600 transition-colors text-sm rounded-sm">
            </div>

            <div class="flex justify-between items-end mb-6">
                <span class="text-gray-400 uppercase tracking-widest text-sm">Итого:</span>
                <span id="cart-total" class="text-3xl font-bold text-white">0 ₽</span>
            </div>

            <button onclick="submitOrder()" class="w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-4 uppercase tracking-widest transition-all active:scale-[0.98]">
                Оформить Заказ
            </button>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="fixed bottom-10 left-1/2 transform -translate-x-1/2 bg-white text-black px-6 py-3 rounded shadow-2xl z-[80] transition-all duration-300 translate-y-20 opacity-0 flex items-center gap-3 font-bold">
        <span class="text-orange-600 text-xl">✓</span>
        <span id="toast-message">Товар добавлен</span>
    </div>

    <!-- JavaScript -->
    <script>
        // --- Data ---
        const products = [
            {
                id: 1,
                name: "DIABLO ROSSO",
                desc: "Острая салями чоризо, перчик чили, моцарелла, томатный соус, красный лук.",
                price: 890,
                image: "https://images.unsplash.com/photo-1628840042765-356cda07504e?q=80&w=1000&auto=format&fit=crop",
                tag: "HIT"
            },
            {
                id: 2,
                name: "TRUFFLE BLACK",
                desc: "Трюфельный крем, шампиньоны, моцарелла, пармезан, трюфельное масло.",
                price: 1150,
                image: "https://images.unsplash.com/photo-1513104890138-7c749659a591?q=80&w=1000&auto=format&fit=crop",
                tag: "PREMIUM"
            },
            {
                id: 3,
                name: "MARGHERITA D.O.P.",
                desc: "Томаты San Marzano, моцарелла буффало, свежий базилик, оливковое масло.",
                price: 750,
                image: "https://images.unsplash.com/photo-1574071318508-1cdbab80d002?q=80&w=1000&auto=format&fit=crop",
                tag: ""
            },
            {
                id: 4,
                name: "QUATTRO FORMAGGI",
                desc: "Горгонзола, моцарелла, пармезан, чеддер, грецкие орехи, мед.",
                price: 990,
                image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?q=80&w=1000&auto=format&fit=crop",
                tag: ""
            },
            {
                id: 5,
                name: "MEAT FURY",
                desc: "Бекон, ветчина, пепперони, куриное филе, соус барбекю, моцарелла.",
                price: 1050,
                image: "https://images.unsplash.com/photo-1604382355076-af4b0eb60143?q=80&w=1000&auto=format&fit=crop",
                tag: "MAX"
            },
            {
                id: 6,
                name: "PEAR & GORGONZOLA",
                desc: "Сливочный соус, груша, горгонзола, кедровые орехи, мята.",
                price: 920,
                image: "https://images.unsplash.com/photo-1534308983496-4fabb1a015ee?q=80&w=1000&auto=format&fit=crop",
                tag: "GOURMET"
            }
        ];

        let cart = [];

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts();
            updateCartUI();
        });

        // --- Render Functions ---
        function renderProducts() {
            const grid = document.getElementById('products-grid');
            grid.innerHTML = products.map(product => `
                <div class="product-card group relative bg-[#141414] border border-white/5 overflow-hidden flex flex-col hover:border-orange-600/30 transition-all duration-300">
                    
                    ${product.tag ? `<div class="absolute top-4 left-4 z-20 bg-orange-600 text-white text-xs font-bold px-3 py-1 uppercase tracking-wider">${product.tag}</div>` : ''}
                    
                    <div class="relative h-64 overflow-hidden">
                        <div class="absolute inset-0 bg-gradient-to-t from-[#141414] to-transparent z-10 opacity-60"></div>
                        <img src="${product.image}" alt="${product.name}" class="product-img w-full h-full object-cover transition-transform duration-500 ease-out">
                    </div>
                    
                    <div class="p-6 flex flex-col flex-1 relative z-20 -mt-10">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-2xl font-bold text-white uppercase group-hover:text-orange-500 transition-colors">${product.name}</h3>
                        </div>
                        <p class="text-gray-400 text-sm mb-6 leading-relaxed line-clamp-2">${product.desc}</p>
                        
                        <div class="mt-auto flex justify-between items-center border-t border-white/5 pt-6">
                            <span class="text-2xl font-bold text-white">${product.price} ₽</span>
                            <button onclick="addToCart(${product.id})" class="bg-white text-black hover:bg-orange-600 hover:text-white px-6 py-2 font-bold uppercase tracking-wider text-sm transition-all duration-300">
                                В корзину
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderCartItems() {
            const container = document.getElementById('cart-items');
            const footer = document.getElementById('cart-footer');
            const emptyMsg = document.getElementById('empty-cart-msg');

            if (cart.length === 0) {
                container.innerHTML = '';
                container.appendChild(emptyMsg);
                emptyMsg.classList.remove('hidden');
                footer.classList.add('hidden');
                return;
            }

            emptyMsg.classList.add('hidden');
            footer.classList.remove('hidden');

            container.innerHTML = cart.map(item => `
                <div class="flex gap-4 items-center bg-[#0a0a0a] p-3 border border-white/5 relative group">
                    <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover bg-gray-800">
                    <div class="flex-1">
                        <h4 class="text-white font-bold uppercase text-sm leading-tight mb-1">${item.name}</h4>
                        <p class="text-orange-500 text-sm font-bold">${item.price * item.qty} ₽</p>
                    </div>
                    <div class="flex items-center gap-3 bg-[#1a1a1a] px-2 py-1">
                        <button onclick="updateQty(${item.id}, -1)" class="text-gray-400 hover:text-white w-6 h-6 flex items-center justify-center">-</button>
                        <span class="text-white text-sm font-bold w-4 text-center">${item.qty}</span>
                        <button onclick="updateQty(${item.id}, 1)" class="text-gray-400 hover:text-white w-6 h-6 flex items-center justify-center">+</button>
                    </div>
                    <button onclick="removeFromCart(${item.id})" class="absolute -top-2 -right-2 bg-red-900 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity">
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                    </button>
                </div>
            `).join('');
        }

        // --- Logic ---
        function addToCart(id) {
            const product = products.find(p => p.id === id);
            const existingItem = cart.find(item => item.id === id);

            if (existingItem) {
                existingItem.qty++;
            } else {
                cart.push({ ...product, qty: 1 });
            }

            updateCartUI();
            showToast(`"${product.name}" добавлена`);
        }

        function updateQty(id, change) {
            const itemIndex = cart.findIndex(item => item.id === id);
            if (itemIndex > -1) {
                cart[itemIndex].qty += change;
                if (cart[itemIndex].qty <= 0) {
                    cart.splice(itemIndex, 1);
                }
                updateCartUI();
            }
        }

        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            updateCartUI();
        }

        function updateCartUI() {
            renderCartItems();
            
            // Calc Total
            const total = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
            document.getElementById('cart-total').innerText = `${total} ₽`;

            // Badge
            const count = cart.reduce((sum, item) => sum + item.qty, 0);
            const badge = document.getElementById('cart-badge');
            badge.innerText = count;
            
            if (count > 0) {
                badge.classList.remove('opacity-0');
            } else {
                badge.classList.add('opacity-0');
            }
        }

        // --- UI Interactions ---
        function toggleCart() {
            const overlay = document.getElementById('cart-overlay');
            const sidebar = document.getElementById('cart-sidebar');
            const body = document.body;

            const isOpen = !sidebar.classList.contains('translate-x-full');

            if (isOpen) {
                // Close
                sidebar.classList.add('translate-x-full');
                overlay.classList.remove('opacity-100', 'visible');
                overlay.classList.add('opacity-0', 'invisible');
                body.style.overflow = '';
            } else {
                // Open
                sidebar.classList.remove('translate-x-full');
                overlay.classList.remove('opacity-0', 'invisible');
                overlay.classList.add('opacity-100', 'visible');
                body.style.overflow = 'hidden';
            }
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            document.getElementById('toast-message').innerText = msg;
            
            toast.classList.remove('translate-y-20', 'opacity-0');
            
            setTimeout(() => {
                toast.classList.add('translate-y-20', 'opacity-0');
            }, 3000);
        }

        function submitOrder() {
            if(cart.length === 0) return;
            
            const btn = document.querySelector('#cart-footer button');
            const originalText = btn.innerText;
            
            btn.innerText = "ОТПРАВКА...";
            btn.classList.add('opacity-75', 'cursor-not-allowed');
            
            setTimeout(() => {
                // Reset
                cart = [];
                updateCartUI();
                toggleCart();
                
                // Success animation/alert
                showToast("Заказ успешно оформлен!");
                
                btn.innerText = originalText;
                btn.classList.remove('opacity-75', 'cursor-not-allowed');
            }, 1500);
        }
    </script>
</body>
</html>
