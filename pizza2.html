<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pizza Delicious - Доставка Пиццы</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .pizza-card-img {
            transition: transform 0.3s ease;
        }
        .pizza-card:hover .pizza-card-img {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 pb-24">

    <!-- Header -->
    <header class="sticky top-0 z-40 bg-white shadow-sm">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2 cursor-pointer" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                <div class="bg-orange-500 text-white p-2 rounded-full">
                    <i class="fas fa-pizza-slice text-xl"></i>
                </div>
                <div>
                    <h1 class="font-bold text-xl leading-none text-gray-900">PizzaDelish</h1>
                    <p class="text-xs text-gray-500">Быстро и вкусно</p>
                </div>
            </div>
            <button onclick="toggleMenu()" class="text-gray-600 focus:outline-none relative p-2">
                <i class="fas fa-bars text-2xl"></i>
            </button>
        </div>
        
        <!-- Categories (Horizontal Scroll) -->
        <div class="overflow-x-auto hide-scrollbar border-b border-gray-100 bg-white sticky top-[60px] z-30">
            <div class="flex px-4 py-3 space-x-4 min-w-max" id="category-container">
                <button onclick="filterCategory('all')" class="category-btn active px-4 py-1.5 bg-orange-500 text-white rounded-full text-sm font-medium shadow-md transition-transform active:scale-95" data-category="all">Все</button>
                <button onclick="filterCategory('pizza')" class="category-btn px-4 py-1.5 bg-gray-100 text-gray-600 rounded-full text-sm font-medium hover:bg-gray-200 transition-transform active:scale-95" data-category="pizza">Пицца</button>
                <button onclick="filterCategory('snacks')" class="category-btn px-4 py-1.5 bg-gray-100 text-gray-600 rounded-full text-sm font-medium hover:bg-gray-200 transition-transform active:scale-95" data-category="snacks">Закуски</button>
                <button onclick="filterCategory('drinks')" class="category-btn px-4 py-1.5 bg-gray-100 text-gray-600 rounded-full text-sm font-medium hover:bg-gray-200 transition-transform active:scale-95" data-category="drinks">Напитки</button>
            </div>
        </div>
    </header>

    <!-- Mobile Side Menu -->
    <div id="side-menu" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black/50 transition-opacity opacity-0" id="menu-backdrop" onclick="toggleMenu()"></div>
        <div class="absolute inset-y-0 right-0 w-64 bg-white shadow-xl transform translate-x-full transition-transform duration-300 flex flex-col" id="menu-content">
            <div class="p-5 border-b border-gray-100 flex justify-between items-center bg-orange-50">
                <h2 class="font-bold text-lg text-gray-800">Меню</h2>
                <button onclick="toggleMenu()" class="text-gray-500 hover:text-gray-800">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div class="flex-1 overflow-y-auto py-4">
                <a href="#" class="block px-6 py-3 text-gray-700 hover:bg-orange-50 hover:text-orange-600 font-medium"><i class="fas fa-user mr-3 w-5"></i> Профиль</a>
                <a href="#" class="block px-6 py-3 text-gray-700 hover:bg-orange-50 hover:text-orange-600 font-medium"><i class="fas fa-history mr-3 w-5"></i> История заказов</a>
                <a href="#" class="block px-6 py-3 text-gray-700 hover:bg-orange-50 hover:text-orange-600 font-medium"><i class="fas fa-map-marker-alt mr-3 w-5"></i> Адреса доставки</a>
                <a href="#" class="block px-6 py-3 text-gray-700 hover:bg-orange-50 hover:text-orange-600 font-medium"><i class="fas fa-percent mr-3 w-5"></i> Акции</a>
                <div class="border-t border-gray-100 my-2"></div>
                <a href="#" class="block px-6 py-3 text-gray-700 hover:bg-orange-50 hover:text-orange-600 font-medium"><i class="fas fa-info-circle mr-3 w-5"></i> О нас</a>
                <a href="#" class="block px-6 py-3 text-gray-700 hover:bg-orange-50 hover:text-orange-600 font-medium"><i class="fas fa-phone mr-3 w-5"></i> Контакты</a>
            </div>
            <div class="p-4 bg-gray-50 border-t border-gray-100 text-center text-xs text-gray-400">
                v1.0.0 Demo App
            </div>
        </div>
    </div>

    <!-- Banner -->
    <div class="p-4">
        <div class="bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden">
            <div class="relative z-10 w-2/3">
                <h2 class="text-2xl font-bold mb-2">Скидка 20%</h2>
                <p class="text-sm opacity-90 mb-3">На первый заказ через приложение по промокоду HELLO</p>
                <button class="bg-white text-orange-600 px-4 py-1.5 rounded-full text-sm font-bold shadow-sm active:bg-gray-100">Скопировать</button>
            </div>
            <div class="absolute -right-4 -bottom-8 opacity-20 transform rotate-12">
                <i class="fas fa-pizza-slice text-9xl"></i>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4">
        <h2 class="text-xl font-bold mb-4 text-gray-800">Пицца</h2>
        
        <!-- Pizza Grid -->
        <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Products will be injected via JS -->
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white pt-10 pb-28 px-4 mt-8">
        <div class="container mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <div class="bg-orange-500 text-white p-1.5 rounded-full">
                            <i class="fas fa-pizza-slice text-sm"></i>
                        </div>
                        <h3 class="font-bold text-lg">PizzaDelish</h3>
                    </div>
                    <p class="text-gray-400 text-sm mb-4">Готовим с любовью, доставляем с улыбкой. Самая быстрая доставка в городе.</p>
                    <div class="flex space-x-4">
                        <a href="#" class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center hover:bg-orange-500 transition-colors"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center hover:bg-orange-500 transition-colors"><i class="fab fa-vk"></i></a>
                        <a href="#" class="w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center hover:bg-orange-500 transition-colors"><i class="fab fa-telegram-plane"></i></a>
                    </div>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Помощь</h4>
                    <ul class="text-gray-400 text-sm space-y-2">
                        <li><a href="#" class="hover:text-white">Часто задаваемые вопросы</a></li>
                        <li><a href="#" class="hover:text-white">Условия доставки</a></li>
                        <li><a href="#" class="hover:text-white">Политика конфиденциальности</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Контакты</h4>
                    <ul class="text-gray-400 text-sm space-y-2">
                        <li class="flex items-center gap-2"><i class="fas fa-phone-alt text-orange-500"></i> +7 (999) 123-45-67</li>
                        <li class="flex items-center gap-2"><i class="fas fa-envelope text-orange-500"></i> info@pizzadelish.ru</li>
                        <li class="flex items-center gap-2"><i class="fas fa-map-marker-alt text-orange-500"></i> ул. Вкусная, д. 1</li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 pt-6 text-center text-gray-500 text-xs">
                &copy; 2023 PizzaDelish. Все права защищены.
            </div>
        </div>
    </footer>

    <!-- Mobile Sticky Cart Footer (Initially Hidden) -->
    <div id="sticky-cart" class="fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] p-4 transform translate-y-full transition-transform duration-300 z-50">
        <div class="container mx-auto max-w-lg flex justify-between items-center">
            <div class="flex flex-col">
                <span class="text-xs text-gray-500">Итого к оплате</span>
                <span class="font-bold text-xl" id="cart-total-price">0 ₽</span>
            </div>
            <button onclick="openCartModal()" class="bg-orange-500 text-white px-8 py-3 rounded-xl font-bold shadow-lg hover:bg-orange-600 transition-colors flex items-center gap-2 active:scale-95">
                <span>Корзина</span>
                <span id="cart-count-badge" class="bg-white text-orange-600 text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center">0</span>
            </button>
        </div>
    </div>

    <!-- Cart Modal Overlay -->
    <div id="cart-modal" class="fixed inset-0 z-50 hidden">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-black/50 transition-opacity opacity-0" id="cart-backdrop" onclick="closeCartModal()"></div>
        
        <!-- Modal Content -->
        <div class="absolute inset-x-0 bottom-0 bg-white rounded-t-2xl h-[85vh] transform translate-y-full transition-transform duration-300 flex flex-col" id="cart-content">
            <div class="p-4 border-b border-gray-100 flex justify-between items-center">
                <h3 class="text-xl font-bold">Ваш заказ</h3>
                <button onclick="closeCartModal()" class="w-8 h-8 flex items-center justify-center bg-gray-100 rounded-full text-gray-600">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="flex-1 overflow-y-auto p-4" id="cart-items-container">
                <!-- Cart items injected here -->
                <div class="flex flex-col items-center justify-center h-full text-gray-400">
                    <i class="fas fa-shopping-basket text-6xl mb-4 opacity-50"></i>
                    <p>Корзина пуста</p>
                </div>
            </div>

            <div class="p-4 border-t border-gray-100 bg-gray-50">
                <div class="flex justify-between mb-2 text-sm">
                    <span class="text-gray-600">Сумма заказа</span>
                    <span class="font-medium" id="modal-subtotal">0 ₽</span>
                </div>
                <div class="flex justify-between mb-4 text-sm">
                    <span class="text-gray-600">Доставка</span>
                    <span class="font-medium text-green-600">Бесплатно</span>
                </div>
                <div class="flex justify-between mb-6 text-xl font-bold">
                    <span>Итого</span>
                    <span id="modal-total">0 ₽</span>
                </div>
                <button class="w-full bg-orange-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:bg-orange-600 active:scale-[0.98] transition-all">
                    Оформить заказ
                </button>
            </div>
        </div>
    </div>

    <!-- Product Detail Modal (Template) -->
    <div id="product-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black/60 transition-opacity" onclick="closeProductModal()"></div>
        <div class="absolute inset-x-0 bottom-0 md:inset-0 md:flex md:items-center md:justify-center pointer-events-none">
            <div class="bg-white w-full md:w-[500px] md:rounded-2xl rounded-t-2xl h-[90vh] md:h-auto overflow-hidden pointer-events-auto flex flex-col transform transition-transform duration-300 translate-y-full md:translate-y-0" id="product-modal-content">
                <div class="relative h-64 bg-gray-100">
                    <img id="pm-image" src="" alt="" class="w-full h-full object-cover">
                    <button onclick="closeProductModal()" class="absolute top-4 right-4 bg-white/80 p-2 rounded-full shadow-md text-gray-800">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="p-6 flex-1 overflow-y-auto">
                    <h3 id="pm-title" class="text-2xl font-bold mb-2"></h3>
                    <p id="pm-desc" class="text-gray-600 mb-4 text-sm leading-relaxed"></p>
                    
                    <div class="mb-6">
                        <label class="block text-sm font-bold mb-2 text-gray-700">Размер</label>
                        <div class="flex bg-gray-100 p-1 rounded-lg">
                            <button class="flex-1 py-2 text-sm font-medium rounded-md bg-white shadow-sm text-gray-800">25 см</button>
                            <button class="flex-1 py-2 text-sm font-medium rounded-md text-gray-500">30 см</button>
                            <button class="flex-1 py-2 text-sm font-medium rounded-md text-gray-500">35 см</button>
                        </div>
                    </div>
                </div>
                <div class="p-4 border-t border-gray-100 flex items-center justify-between bg-white">
                    <span id="pm-price" class="text-2xl font-bold"></span>
                    <button id="pm-add-btn" class="bg-orange-500 text-white px-8 py-3 rounded-xl font-bold shadow-lg active:scale-95 transition-transform">
                        В корзину
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data
        const products = [
            {
                id: 1,
                title: "Пепперони",
                category: "pizza",
                description: "Классическая пицца с пикантными колбасками пепперони, моцареллой и фирменным томатным соусом.",
                price: 490,
                image: "https://images.unsplash.com/photo-1628840042765-356cda07504e?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 2,
                title: "Маргарита",
                category: "pizza",
                description: "Итальянская классика с томатами, сыром моцарелла и свежим базиликом.",
                price: 390,
                image: "https://images.unsplash.com/photo-1574071318508-1cdbab80d002?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 3,
                title: "Четыре Сыра",
                category: "pizza",
                description: "Сливочная основа, моцарелла, чеддер, голубой сыр и пармезан. Настоящее сырное наслаждение.",
                price: 550,
                image: "https://images.unsplash.com/photo-1513104890138-7c749659a591?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 4,
                title: "Барбекю Чикен",
                category: "pizza",
                description: "Сочная куриная грудка, бекон, красный лук, моцарелла и соус барбекю.",
                price: 590,
                image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 5,
                title: "Гавайская",
                category: "pizza",
                description: "Ветчина, ананасы, моцарелла и томатный соус. Сладкое и соленое сочетание.",
                price: 470,
                image: "https://images.unsplash.com/photo-1565299507177-b0ac66763828?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 6,
                title: "Мясная",
                category: "pizza",
                description: "Бекон, ветчина, пепперони, охотничьи колбаски, моцарелла и томатный соус.",
                price: 650,
                image: "https://images.unsplash.com/photo-1604382354936-07c5d9983bd3?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 7,
                title: "Картофель Фри",
                category: "snacks",
                description: "Золотистый хрустящий картофель фри с солью.",
                price: 150,
                image: "https://images.unsplash.com/photo-1630384060421-cb20d0e0649d?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 8,
                title: "Куриные крылья",
                category: "snacks",
                description: "Острые куриные крылышки в панировке (6 шт).",
                price: 320,
                image: "https://images.unsplash.com/photo-1567620832903-9fc6debc209f?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 9,
                title: "Coca-Cola 0.5л",
                category: "drinks",
                description: "Освежающий газированный напиток.",
                price: 110,
                image: "https://images.unsplash.com/photo-1622483767028-3f66f32aef97?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
            },
            {
                id: 10,
                title: "Апельсиновый сок",
                category: "drinks",
                description: "Натуральный апельсиновый сок Rich 0.3л",
                price: 130,
                image: "https://images.unsplash.com/photo-1600271886742-f049cd451bba?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
            }
        ];

        let cart = {};
        let currentCategory = 'all';

        // Initialization
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts();
            updateCartUI();
        });

        // Functions
        function renderProducts() {
            const grid = document.getElementById('product-grid');
            const filteredProducts = currentCategory === 'all' 
                ? products 
                : products.filter(p => p.category === currentCategory);

            if (filteredProducts.length === 0) {
                grid.innerHTML = `<div class="col-span-full text-center py-10 text-gray-500">В этой категории пока нет товаров</div>`;
                return;
            }

            grid.innerHTML = filteredProducts.map(product => `
                <div class="pizza-card bg-white p-0 rounded-xl shadow-sm border border-gray-100 overflow-hidden flex flex-col h-full cursor-pointer animate-fade-in" onclick="openProductModal(${product.id})">
                    <div class="h-48 overflow-hidden relative">
                        <img src="${product.image}" alt="${product.title}" class="pizza-card-img w-full h-full object-cover">
                        <div class="absolute bottom-2 right-2 bg-white px-2 py-1 rounded-md text-sm font-bold shadow-sm">
                            ${product.price} ₽
                        </div>
                    </div>
                    <div class="p-4 flex flex-col flex-1">
                        <h3 class="text-lg font-bold mb-1 text-gray-900">${product.title}</h3>
                        <p class="text-gray-500 text-sm mb-4 line-clamp-2 flex-1">${product.description}</p>
                        <button onclick="event.stopPropagation(); addToCart(${product.id})" class="w-full bg-orange-100 text-orange-600 py-2.5 rounded-lg font-bold text-sm hover:bg-orange-200 transition-colors active:bg-orange-300">
                            Выбрать
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function filterCategory(category) {
            currentCategory = category;
            
            // Update buttons
            document.querySelectorAll('.category-btn').forEach(btn => {
                if (btn.dataset.category === category) {
                    btn.classList.remove('bg-gray-100', 'text-gray-600', 'hover:bg-gray-200');
                    btn.classList.add('bg-orange-500', 'text-white', 'shadow-md');
                } else {
                    btn.classList.add('bg-gray-100', 'text-gray-600', 'hover:bg-gray-200');
                    btn.classList.remove('bg-orange-500', 'text-white', 'shadow-md');
                }
            });
            
            renderProducts();
        }

        function toggleMenu() {
            const menu = document.getElementById('side-menu');
            const backdrop = document.getElementById('menu-backdrop');
            const content = document.getElementById('menu-content');
            
            if (menu.classList.contains('hidden')) {
                menu.classList.remove('hidden');
                // reflow
                void menu.offsetWidth;
                backdrop.classList.remove('opacity-0');
                content.classList.remove('translate-x-full');
                document.body.style.overflow = 'hidden';
            } else {
                backdrop.classList.add('opacity-0');
                content.classList.add('translate-x-full');
                setTimeout(() => {
                    menu.classList.add('hidden');
                    document.body.style.overflow = '';
                }, 300);
            }
        }

        function addToCart(id) {
            if (cart[id]) {
                cart[id].quantity++;
            } else {
                const product = products.find(p => p.id === id);
                cart[id] = { ...product, quantity: 1 };
            }
            updateCartUI();
            
            // Visual feedback
            const btn = event.target;
            // Handle if icon inside button was clicked
            const targetBtn = btn.tagName === 'BUTTON' ? btn : btn.closest('button');
            
            if (targetBtn) {
                const originalText = targetBtn.innerText;
                targetBtn.innerText = "Добавлено";
                targetBtn.classList.add('bg-green-100', 'text-green-700');
                setTimeout(() => {
                    targetBtn.innerText = originalText;
                    targetBtn.classList.remove('bg-green-100', 'text-green-700');
                }, 1000);
            }
        }

        function removeFromCart(id) {
            if (cart[id]) {
                cart[id].quantity--;
                if (cart[id].quantity <= 0) {
                    delete cart[id];
                }
            }
            updateCartUI();
            renderCartItems(); // Re-render if cart modal is open
        }

        function getCartTotal() {
            return Object.values(cart).reduce((sum, item) => sum + (item.price * item.quantity), 0);
        }

        function getCartCount() {
            return Object.values(cart).reduce((sum, item) => sum + item.quantity, 0);
        }

        function updateCartUI() {
            const total = getCartTotal();
            const count = getCartCount();
            
            document.getElementById('cart-total-price').innerText = total + ' ₽';
            document.getElementById('modal-subtotal').innerText = total + ' ₽';
            document.getElementById('modal-total').innerText = total + ' ₽';
            document.getElementById('cart-count-badge').innerText = count;

            const stickyCart = document.getElementById('sticky-cart');
            if (count > 0) {
                stickyCart.classList.remove('translate-y-full');
            } else {
                stickyCart.classList.add('translate-y-full');
                closeCartModal(); // Close modal if cart becomes empty
            }
        }

        // Modal Logic
        function openCartModal() {
            if (getCartCount() === 0) return;
            
            renderCartItems();
            const modal = document.getElementById('cart-modal');
            const backdrop = document.getElementById('cart-backdrop');
            const content = document.getElementById('cart-content');
            
            modal.classList.remove('hidden');
            // Trigger reflow
            void modal.offsetWidth;
            
            backdrop.classList.remove('opacity-0');
            content.classList.remove('translate-y-full');
            document.body.style.overflow = 'hidden';
        }

        function closeCartModal() {
            const modal = document.getElementById('cart-modal');
            const backdrop = document.getElementById('cart-backdrop');
            const content = document.getElementById('cart-content');
            
            backdrop.classList.add('opacity-0');
            content.classList.add('translate-y-full');
            
            setTimeout(() => {
                modal.classList.add('hidden');
                document.body.style.overflow = '';
            }, 300);
        }

        function renderCartItems() {
            const container = document.getElementById('cart-items-container');
            const items = Object.values(cart);
            
            if (items.length === 0) {
                container.innerHTML = `
                    <div class="flex flex-col items-center justify-center h-full text-gray-400 mt-10">
                        <i class="fas fa-shopping-basket text-6xl mb-4 opacity-50"></i>
                        <p>Корзина пуста</p>
                    </div>`;
                return;
            }

            container.innerHTML = items.map(item => `
                <div class="flex items-center gap-4 mb-4 bg-white p-2 rounded-lg">
                    <img src="${item.image}" class="w-16 h-16 rounded-lg object-cover bg-gray-100">
                    <div class="flex-1">
                        <h4 class="font-bold text-sm text-gray-900">${item.title}</h4>
                        <p class="text-gray-500 text-xs">Средняя, 30 см</p>
                        <div class="mt-1 font-bold text-sm">${item.price * item.quantity} ₽</div>
                    </div>
                    <div class="flex items-center bg-gray-100 rounded-lg p-1">
                        <button onclick="removeFromCart(${item.id})" class="w-8 h-8 flex items-center justify-center text-gray-600 font-bold active:bg-gray-200 rounded">-</button>
                        <span class="w-8 text-center text-sm font-bold">${item.quantity}</span>
                        <button onclick="addToCart(${item.id}); renderCartItems()" class="w-8 h-8 flex items-center justify-center text-gray-600 font-bold active:bg-gray-200 rounded">+</button>
                    </div>
                </div>
            `).join('');
        }

        // Product Details Modal
        function openProductModal(id) {
            const product = products.find(p => p.id === id);
            if (!product) return;

            document.getElementById('pm-image').src = product.image;
            document.getElementById('pm-title').innerText = product.title;
            document.getElementById('pm-desc').innerText = product.description;
            document.getElementById('pm-price').innerText = product.price + ' ₽';
            document.getElementById('pm-add-btn').onclick = function() {
                addToCart(product.id);
                closeProductModal();
            };

            const modal = document.getElementById('product-modal');
            const content = document.getElementById('product-modal-content');
            
            modal.classList.remove('hidden');
            // Force reflow
            void modal.offsetWidth;
            
            modal.querySelector('.bg-black\\/60').classList.remove('opacity-0');
            content.classList.remove('translate-y-full');
            document.body.style.overflow = 'hidden';
        }

        function closeProductModal() {
            const modal = document.getElementById('product-modal');
            const content = document.getElementById('product-modal-content');
            
            modal.querySelector('.bg-black\\/60').classList.add('opacity-0');
            content.classList.add('translate-y-full');
            
            setTimeout(() => {
                modal.classList.add('hidden');
                document.body.style.overflow = '';
            }, 300);
        }
    </script>
</body>
</html>